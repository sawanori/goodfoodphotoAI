# T403: App Store Submission Preparation

## 基本情報
- **タスクID**: T403
- **フェーズ**: Phase 4: Integration & Deployment
- **依存タスク**: T402 (Performance Testing)
- **成果物**:
  - App Store メタデータ (日本語)
  - スクリーンショット (3サイズ x 最低3枚)
  - アプリアイコン (1024x1024px)
  - プライバシーポリシー (公開済みURL)
  - 利用規約 (公開済みURL)
  - レビュー用ノート
  - プロダクションビルド (Archive)
- **推定時間**: 1日

## 概要
App Store申請に必要な全アセットとメタデータを準備し、App Store Connectにアップロードします。プライバシーポリシーと利用規約も作成・公開します。

## Step 1: プライバシーポリシーと利用規約の作成

### プライバシーポリシーテンプレート

`docs/legal/privacy-policy-ja.md` を作成:

```markdown
# プライバシーポリシー

最終更新日: 2026年1月XX日

BananaDish（以下「当アプリ」）は、ユーザーの個人情報保護を重要視しています。

## 収集する情報

当アプリは以下の情報を収集します:

1. **アカウント情報**
   - メールアドレス
   - 表示名 (任意)
   - プロフィール画像 (任意)

2. **利用状況データ**
   - 生成回数
   - サブスクリプション状態
   - 最終ログイン日時

3. **デバイス情報**
   - デバイスモデル
   - OSバージョン
   - アプリバージョン

4. **分析データ** (Firebase Analytics)
   - アプリ使用状況
   - クラッシュレポート
   - パフォーマンスデータ

## 情報の使用目的

収集した情報は以下の目的で使用します:

- サービスの提供および改善
- カスタマーサポート
- 使用量制限の管理
- 不正利用の防止
- アプリの品質向上

## 情報の共有

当アプリは、以下の場合を除き、第三者に個人情報を共有しません:

- ユーザーの同意がある場合
- 法的義務を履行する場合
- サービス提供に必要なパートナー (Firebase, Google Cloud) との共有

## データの保存

- Firebase Authentication: 認証情報
- Firestore: ユーザープロフィール、サブスクリプション状態
- 保存場所: Google Cloud (asia-northeast1)
- 保存期間: アカウント削除まで

## 生成画像の取り扱い

- アップロードされた写真は生成処理後、即座に削除されます
- 生成された画像はデバイスのカメラロールに保存されます
- サーバーに画像は保存されません

## ユーザーの権利

ユーザーは以下の権利を有します:

- 個人情報の開示請求
- 個人情報の訂正請求
- 個人情報の削除請求
- アカウントの削除

## お問い合わせ

プライバシーに関するご質問は以下までお問い合わせください:
support@bananadish.app

## ポリシーの変更

本ポリシーは予告なく変更される場合があります。変更後は当ページで公開します。
```

### 利用規約テンプレート

`docs/legal/terms-of-service-ja.md` を作成:

```markdown
# 利用規約

最終更新日: 2026年1月XX日

## 第1条 (適用)

本規約は、BananaDish（以下「当アプリ」）の利用に関する条件を定めるものです。

## 第2条 (サービス内容)

当アプリは、AI技術を用いて料理写真を加工するサービスを提供します。

## 第3条 (アカウント)

1. ユーザーは正確な情報を登録する必要があります
2. パスワードは厳重に管理してください
3. アカウントの譲渡・貸与は禁止です

## 第4条 (禁止事項)

以下の行為を禁止します:

- 不正アクセス
- サービスの妨害行為
- 他者の権利侵害
- 公序良俗に反する利用
- 商用利用 (個人利用のみ許可)

## 第5条 (知的財産権)

生成された画像の著作権はユーザーに帰属します。ただし、元画像の著作権は元の権利者に帰属します。

## 第6条 (サブスクリプション)

1. 自動更新サブスクリプションは毎月自動的に更新されます
2. キャンセルは更新の24時間前までに行ってください
3. 返金は原則として行いません

## 第7条 (免責事項)

1. 当アプリは「現状有姿」で提供されます
2. 生成画像の品質を保証するものではありません
3. サービスの中断・終了による損害について責任を負いません

## 第8条 (準拠法)

本規約は日本法に準拠します。

## お問い合わせ

support@bananadish.app
```

### 公開方法

```bash
# GitHub Pagesまたは独自ドメインで公開
# 推奨URL:
# https://bananadish.app/privacy
# https://bananadish.app/terms

# 簡易的な公開方法 (GitHub Pages):
1. GitHubリポジトリ作成: bananadish-legal
2. index.html, privacy.html, terms.html を作成
3. Settings → Pages で公開
4. カスタムドメイン設定 (オプション)
```

---

## Step 2: App Store スクリーンショット作成

### 必要なサイズ

| デバイス | 解像度 | 枚数 |
|---------|--------|-----|
| iPhone 6.7" (15 Pro Max) | 1290 x 2796 px | 最低3枚、推奨5枚 |
| iPhone 6.5" (11 Pro Max) | 1242 x 2688 px | 最低3枚 |
| iPhone 5.5" (8 Plus) | 1242 x 2208 px | 最低3枚 |

### 推奨スクリーンショット構成

1. **Screenshot 1: メインビジュアル**
   - ホーム画面 + 生成結果のビフォーアフター
   - キャッチコピー: "料理写真を一瞬でプロ級に"

2. **Screenshot 2: 機能紹介**
   - 4枚のグリッド表示
   - キャッチコピー: "AIが4パターン自動生成"

3. **Screenshot 3: かんたん操作**
   - カメラ/ギャラリー選択画面
   - キャッチコピー: "撮るだけ、選ぶだけ"

4. **Screenshot 4: サブスクリプション**
   - 設定画面のサブスクリプションカード
   - キャッチコピー: "月30回まで使い放題"

5. **Screenshot 5: Before/After**
   - 実際の生成例
   - ビフォーアフター比較

### 作成方法

```bash
# Xcodeシミュレーターでスクリーンショット取得
1. 各サイズのシミュレーターを起動
   - iPhone 15 Pro Max (6.7")
   - iPhone 11 Pro Max (6.5")
   - iPhone 8 Plus (5.5")

2. Cmd + S でスクリーンショット撮影

3. Figmaまたはデザインツールでキャッチコピー追加
   - フォント: ヒラギノ角ゴ or Noto Sans JP
   - サイズ: 48pt以上
   - 色: #000 または #007AFF

4. 書き出し: PNG, sRGB, 72dpi
```

---

## Step 3: App Iconの作成

### 要件

- サイズ: 1024 x 1024 px
- フォーマット: PNG (透過なし)
- カラースペース: sRGB
- 角丸: 不要 (App Storeが自動適用)

### デザインコンセプト

- テーマ: 料理写真、AI、プロフェッショナル
- カラー: 暖色系 (食欲をそそる色)
- アイコン案:
  - カメラ + 料理
  - スマートフォン + 星 (プロ級の象徴)
  - バナナ + ディッシュ (ブランド名から)

### 作成ツール

- Figma (推奨)
- Sketch
- Adobe Illustrator
- Canva

---

## Step 4: App Store Metadata (日本語)

### App情報

**App名**: BananaDish

**サブタイトル** (30文字以内):
```
料理写真を一瞬でプロ級に
```

**説明文** (4000文字以内):
```
BananaDishは、AIが料理写真を自動的にプロ級の仕上がりに変換するアプリです。

【主な機能】
✓ AIが4パターン自動生成
  撮影した料理写真から、AIが最適な4パターンの写真を自動生成します。

✓ 4種類のアスペクト比対応
  Instagram投稿 (4:5)、ストーリーズ (9:16)、YouTube (16:9)、正方形 (1:1) に対応。

✓ カメラロールに自動保存
  生成された4枚の写真をワンタップで一括保存できます。

✓ 料理が切れない独自技術
  「含む + ぼかし背景」方式で、料理全体を美しく収めます。

【こんな方におすすめ】
- 飲食店経営者・スタッフ
- フードブロガー・インスタグラマー
- 料理写真をSNSに投稿する方
- メニュー作成担当者

【料金プラン】
無料プラン: 月10回まで無料
Starterプラン: ¥1,980/月で月30回
追加生成: ¥980で10回追加

【プライバシー保護】
アップロードした写真は処理後すぐに削除されます。サーバーには保存されません。

【サポート】
ご質問・ご要望は support@bananadish.app までお気軽にどうぞ。

今すぐダウンロードして、料理写真をプロ級に変換しましょう!
```

**キーワード** (100文字以内、カンマ区切り):
```
料理写真,AI,写真加工,Instagram,飲食店,メニュー,フード,レストラン,カメラ
```

**サポートURL**:
```
https://bananadish.app/support
```

**マーケティングURL** (オプション):
```
https://bananadish.app
```

**プライバシーポリシーURL**:
```
https://bananadish.app/privacy
```

---

## Step 5: App審査情報

### App Store Connect → App Review Information

**連絡先情報**:
- 名前: [あなたの名前]
- 電話番号: +81-XX-XXXX-XXXX
- メールアドレス: support@bananadish.app

**テストアカウント** (Sandbox):
- ユーザー名: reviewer@bananadish.app
- パスワード: [強力なパスワード]

**レビューノート**:
```
【アプリ概要】
BananaDishは料理写真をAIで加工するアプリです。

【テスト手順】
1. 提供されたテストアカウントでログイン
2. ホーム画面で「写真を選択」をタップ
3. サンプル料理写真を選択 (添付画像を使用)
4. アスペクト比「4:5」を選択
5. 「生成する」をタップ
6. 20-30秒で4枚の画像が生成されます
7. 「全て保存する」で画像をカメラロールに保存

【Sandbox購入テスト】
Starterプラン (¥1,980/月) の購入をテストする場合:
1. 設定タブ → サブスクリプション管理
2. 「今すぐ購入する」をタップ
3. Sandboxアカウントでサインイン
4. 購入完了後、使用制限が30回になることを確認

【注意事項】
- 画像生成にはGemini AI (Google) を使用しています
- ユーザーの写真はサーバーに保存されません
- すべて日本語UIです

【添付資料】
- テスト用料理写真 (高解像度)
- プライバシーポリシー: https://bananadish.app/privacy
```

---

## Step 6: プライバシー詳細設定

### データ収集の開示

App Store Connect → App Privacy:

**収集するデータ**:

1. **連絡先情報**
   - メールアドレス
   - 使用目的: アカウント管理、サポート
   - ユーザーIDにリンク: はい

2. **使用状況データ**
   - 製品インタラクション
   - 使用目的: アプリ機能、分析
   - ユーザーIDにリンク: はい

3. **診断**
   - クラッシュデータ
   - パフォーマンスデータ
   - 使用目的: アプリ機能
   - ユーザーIDにリンク: いいえ

**収集しないデータ**:
- 位置情報
- 写真・ビデオ (サーバー保存なし)
- 財務情報
- ブラウズ履歴

---

## Step 7: プロダクションビルド作成

```bash
cd bananadish-app

# バージョン番号更新
# app.json で "version": "1.0.0", "buildNumber": "1"

# EASビルド (Expo Application Services)
eas build --platform ios --profile production

# または Xcode Archive:
# 1. Xcode → Product → Archive
# 2. Organizer → Distribute App
# 3. App Store Connect
# 4. Upload

# ビルド成功後、App Store Connectで確認
# - ビルドが「処理中」→「処理完了」になるまで待つ (10-30分)
```

---

## Step 8: App Store Connect 最終確認

### 提出前チェックリスト

- [ ] アプリ名「BananaDish」設定済み
- [ ] サブタイトル設定済み
- [ ] 説明文 (日本語) 設定済み
- [ ] キーワード設定済み
- [ ] スクリーンショット 3サイズ x 3枚以上アップロード済み
- [ ] アプリアイコン (1024x1024) アップロード済み
- [ ] サポートURL設定済み
- [ ] プライバシーポリシーURL設定済み (公開済み)
- [ ] 年齢制限: 4+
- [ ] プライバシー詳細設定完了
- [ ] App審査情報 (連絡先、テストアカウント、ノート) 設定済み
- [ ] ビルドが「処理完了」
- [ ] ビルドを選択済み
- [ ] ステータス: 「審査待ち」

---

## 完了条件（DoD）

- [ ] プライバシーポリシーが公開URLで閲覧可能
- [ ] 利用規約が公開URLで閲覧可能
- [ ] スクリーンショット 3サイズ全てアップロード済み
- [ ] App Icon (1024x1024) アップロード済み
- [ ] 全メタデータ (日本語) 入力済み
- [ ] プライバシー詳細設定完了
- [ ] テストアカウント情報提供済み
- [ ] プロダクションビルドアップロード済み
- [ ] App Store Connect で「審査待ち」ステータス

## 成果物

1. **プライバシーポリシー**: 公開URL
2. **利用規約**: 公開URL
3. **スクリーンショット**: 3サイズ x 3-5枚
4. **App Icon**: 1024x1024px PNG
5. **App Store メタデータ**: 全項目入力済み
6. **プロダクションビルド**: IPA (Archive)

## Notes

- **審査期間**: 通常24-48時間、最大1週間
- **却下対策**: レビューノートを詳細に記載
- **Sandbox明記**: テストアカウントがSandboxであることを明記
- **スクリーンショット**: 実機スクリーンショット推奨 (デザインモックアップも可)
- **メタデータ変更**: 審査後もメタデータ (説明文等) は変更可能

## 関連ドキュメント

- [App Store Review Guidelines](https://developer.apple.com/app-store/review/guidelines/)
- [App Store Connect Help](https://help.apple.com/app-store-connect/)
- [実装計画書 - T403](/home/noritakasawada/project/20260117/docs/plans/bananadish-workplan.md#t403-app-store-submission-preparation)
